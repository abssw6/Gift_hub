<div class="container">
  <div class="row">
    <div class="col-8">
      <div id="calendar-body">
        <%= month_calendar(attribute: :event_date) do |date, events| %>
          <div class="day">
              <%= date.day %>
              <% @events.each do |event| %>
                <h5 class="card-title">
                <%= link_to event.title, event if event.event_date == date %>
                </h5>
              <% end %>
          </div>
          <% end %>
      </div>
    </div>

    <div class="col-4">
      <div id="upcoming">
        <div class="calendar dark">
          <div class="calendar_header text-center" style="padding: 10px;">
            <h1 class ="header_title">Upcoming Events</h1>
            <p class="header_body">See Events and Wishlists</p>
          </div>
            <% if @events.empty? %>
          <div>No Events</div>
            <% else  %>
          <div class="calendar_plan text-center">
            <div class="cl_plan">
              <p>Your Next Event</p>
              <div class="cl_title">
              <%= @events.first.event_date.strftime('%A, %d-%m-%Y') %></div>
              <div class="d-flex justify-content-center align-items-center mt-2">
              <div class="cl_copy"><%= @events.first.title %></div>
              <div class="cl_add">
                <%= link_to event_path(@events.first) do %>
                  <i class="fa-solid fa-calendar-week text-center"></i>
                  <% end %> </div>
              </div>
            </div>
            <div class="calendar_events" style="padding: 20px 0px;">
              <p class="ce_title">Upcoming Events</p>
              <% @events[1..-1].each do |event| %>
                <div class="event_item">
                  <div class="ei_Dot dot_active"></div>
                  <div class="ei_Title"><%= event.event_date.strftime('%A, %d-%m-%Y') %></div>
                  <div class="ei_Copy"><%= event.title %> <%= event.category %></div>
                  <button class="secondary-button"><%= link_to 'Event Details', event %>
                </div>
              <% end %>
            </div>
          </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
